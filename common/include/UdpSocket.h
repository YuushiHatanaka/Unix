//==============================================================================
// UdpSockeクラスヘッダ
//==============================================================================
#ifndef _UDP_SOCKET_H_                      // 二重インクルード防止
#define _UDP_SOCKET_H_                      // 二重インクルード防止

//==============================================================================
// インクルードファイル
//==============================================================================
#include "Exception.h"
#include "Socket.h"

//==============================================================================
// クラス定義
//==============================================================================
//------------------------------------------------------------------------------
// UdpSocket例外クラス
//------------------------------------------------------------------------------
class UdpSocketException : public Exception
{
public:
    //--------------------------------------------------------------------------
    // コンストラクタ
    //--------------------------------------------------------------------------
    UdpSocketException(std::string format, ...)
        : Exception()
    {
        // メッセージ生成
        va_list ap;
        va_start(ap, format);
        this->SetMessage(format, ap);
        va_end(ap);
    };
};

//------------------------------------------------------------------------------
// UdpSocketクラス
//------------------------------------------------------------------------------
class UdpSocket : public Socket
{
public:
    //--------------------------------------------------------------------------
    // コンストラクタ
    //--------------------------------------------------------------------------
    UdpSocket() : Socket()
    {
    }

    //--------------------------------------------------------------------------
    // コンストラクタ
    //--------------------------------------------------------------------------
    UdpSocket(int socket) : Socket(socket)
    {
    }

    //--------------------------------------------------------------------------
    // コピーコンストラクタ
    //--------------------------------------------------------------------------
    UdpSocket(const UdpSocket& socket) : Socket(socket)
    {
    }

    //--------------------------------------------------------------------------
    // デストラクタ
    //--------------------------------------------------------------------------
    virtual ~UdpSocket()
    {
    }

    //--------------------------------------------------------------------------
    // 生成
    //--------------------------------------------------------------------------
    bool Create(int domain, int protocol)
    {
        // 親クラスのCreateメソッドを呼び出し、結果を返却
        return Socket::Create(domain, SOCK_DGRAM, protocol);
    }
};
#endif                                      // 二重インクルード防止
